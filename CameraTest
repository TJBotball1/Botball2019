#include <kipr/botball.h>

int main()
{
    printf("Start");
    camera_open();
    camera_update();
    create_connect();
    
    while (1) 
    {
        if (get_object_count(2) > 0)
        {
            //printf("red thing \n");
            if (get_object_center_column(2,0) < 70) {
                printf("on left \n");
                create_drive_direct(-50, 50);
                msleep(2000);
            } else if (get_object_center_column(2,0) > 90) {
                printf("on right \n");
                create_drive_direct(50, -50);
                msleep(2000);
            } else { 
                printf("centered\n");
            }
            create_drive_direct(50, 50);
            msleep(2000);
            break;
        } 
        else 
        {
            printf("nothing \n");    
        }
        msleep(100);
        camera_update();
    }
    camera_close();
    return 0;
}
